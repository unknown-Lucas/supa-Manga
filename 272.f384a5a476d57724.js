"use strict";(self.webpackChunkmanga_hub=self.webpackChunkmanga_hub||[]).push([[272],{272:(b,m,i)=>{i.r(m),i.d(m,{HomeComponent:()=>g});var e=i(4650),_=i(4989),M=i(7799),r=i(6895),h=i(3162),f=i(7392),d=i(4859),x=i(2340),l=i(3546),v=i(2994);class c{constructor(){this.manga={},this.openMangaDetails=new e.vpe}get mangaUrl(){return`${x.N.myHost}/home/${this.manga._id}`}getMangaStateClass(n){return{ongoing:"ongoing-header-image",completed:"completed-header-image",cancelled:"cancelled-header-image",hiatus:"hiatus-header-image"}[n]}}c.\u0275fac=function(n){return new(n||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-manga-card"]],inputs:{manga:"manga"},outputs:{openMangaDetails:"openMangaDetails"},standalone:!0,features:[e.jDz],decls:14,vars:6,consts:[[1,"example-card"],["mat-card-avatar","",3,"ngClass"],[1,"card-title"],["rel","noreferrer","mat-card-image","","width","300","height","300","alt","","loading","lazy"],[1,"card-description"],[2,"margin-right","10px",3,"url"],["mat-raised-button","",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header"),e._UZ(2,"div",1),e.TgZ(3,"mat-card-title",2),e._uU(4),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.qZA()(),e._UZ(7,"img",3),e.TgZ(8,"mat-card-content",4),e._uU(9),e.qZA(),e.TgZ(10,"mat-card-actions"),e._UZ(11,"app-share-button",5),e.TgZ(12,"button",6),e.NdJ("click",function(){return t.openMangaDetails.emit(t.manga._id)}),e._uU(13," READ "),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("ngClass",t.getMangaStateClass(t.manga.state)),e.xp6(2),e.Oqu(t.manga.title),e.xp6(2),e.Oqu(t.manga.genre),e.xp6(1),e.uIk("src",t.manga.cover,e.LSH),e.xp6(2),e.hij(" ",t.manga.description," "),e.xp6(2),e.Q6J("url",t.mangaUrl))},dependencies:[r.ez,r.mk,l.QW,l.a8,l.hq,l.kc,l.dn,l.dk,l.G2,l.$j,l.n5,d.ot,d.lW,v.o],styles:[".example-card[_ngcontent-%COMP%]{max-width:300px;height:500px;border-radius:20px;-webkit-line-clamp:4;line-clamp:4;-webkit-box-orient:vertical}.card-description[_ngcontent-%COMP%]{padding:10px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;line-clamp:4;-webkit-box-orient:vertical;max-width:300px;max-height:300px}.card-title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;max-width:300px}"],changeDetection:0});const Z=["carouselWrapper"];function D(a,n){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-manga-card",8),e.NdJ("openMangaDetails",function(s){e.CHM(t);const u=e.oxw();return e.KtG(u.openMangaDetails.emit(s))})("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.stopAutoCarousel())}),e.qZA(),e.BQk()}if(2&a){const t=n.$implicit;e.xp6(1),e.Q6J("manga",t)}}class p{constructor(){this.collection=[],this.title="",this.openMangaDetails=new e.vpe,this.currentSlideIndex=0,this.autoSlide=!0}ngAfterViewInit(){setInterval(()=>{this.autoSlide&&this.nextSlide()},3e3)}stopAutoCarousel(){this.autoSlide=!1,setTimeout(()=>this.autoSlide=!0,2e4)}prevSlideButton(){this.stopAutoCarousel(),this.prevSlide()}nextSlideButton(){this.stopAutoCarousel(),this.nextSlide()}prevSlide(){this.currentSlideIndex=(this.currentSlideIndex-1+this.collection.length)%this.collection.length,this.slideToCurrent()}nextSlide(){this.currentSlideIndex=(this.currentSlideIndex+1)%this.collection.length,this.slideToCurrent()}slideToCurrent(){this.carouselWrapper.nativeElement.style.transform=`translateX(-${this.currentSlideIndex*(this.carouselWrapper.nativeElement.children[0].offsetWidth+20)*2}px)`}}p.\u0275fac=function(n){return new(n||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-carousel"]],viewQuery:function(n,t){if(1&n&&e.Gf(Z,7),2&n){let o;e.iGM(o=e.CRH())&&(t.carouselWrapper=o.first)}},inputs:{collection:"collection",title:"title"},outputs:{openMangaDetails:"openMangaDetails"},standalone:!0,features:[e.jDz],decls:13,vars:2,consts:[[1,"carousel-page"],[1,"carousel-title"],["mat-fab","","color","primary",1,"carousel-nav-left",3,"click"],[1,"carousel-container"],[1,"carousel-wrapper"],["carouselWrapper",""],[4,"ngFor","ngForOf"],["mat-fab","","color","primary",1,"carousel-nav-right",3,"click"],[1,"carousel-card",3,"manga","openMangaDetails","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return t.prevSlideButton()}),e.TgZ(4,"mat-icon"),e._uU(5,"keyboard_arrow_left"),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4,5),e.YNc(9,D,2,1,"ng-container",6),e.qZA()(),e.TgZ(10,"button",7),e.NdJ("click",function(){return t.nextSlideButton()}),e.TgZ(11,"mat-icon"),e._uU(12,"keyboard_arrow_right"),e.qZA()()()),2&n&&(e.xp6(2),e.Oqu(t.title),e.xp6(7),e.Q6J("ngForOf",t.collection))},dependencies:[r.ez,r.sg,f.Ps,f.Hw,d.ot,d.cs,c],styles:[".carousel-page[_ngcontent-%COMP%]{padding:2vh;height:93vh}.carousel-container[_ngcontent-%COMP%]{display:flex;overflow-x:hidden;position:relative;padding:1vw}.carousel-wrapper[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out;position:relative;z-index:0}.carousel-title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:40px;font-weight:700}.carousel-card[_ngcontent-%COMP%]{flex:0 0 300px;margin:0 10px}.carousel-nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:1;background-color:#00000080}.carousel-nav.left[_ngcontent-%COMP%]{left:0}.carousel-nav.right[_ngcontent-%COMP%]{right:0}"]});const C=function(){return[]};function S(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"span",2)(1,"app-carousel",3),e.NdJ("openMangaDetails",function(s){e.CHM(t);const u=e.oxw();return e.KtG(u.onOpenMangaDetails(s))}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"app-carousel",4),e.NdJ("openMangaDetails",function(s){e.CHM(t);const u=e.oxw();return e.KtG(u.onOpenMangaDetails(s))}),e.ALo(4,"async"),e.qZA()()}if(2&a){const t=e.oxw();let o,s;e.xp6(1),e.Q6J("collection",null!==(o=e.lcZ(2,4,t.mangasCollection$))&&void 0!==o?o:e.DdM(8,C))("title","Popular Seinens \u2694\ufe0f"),e.xp6(2),e.Q6J("collection",null!==(s=e.lcZ(4,6,t.mangasCollection$))&&void 0!==s?s:e.DdM(9,C))("title","Popular Shounens \u{1f94a}")}}function T(a,n){1&a&&(e.TgZ(0,"span"),e._UZ(1,"mat-progress-bar",5),e.qZA())}class g{constructor(n,t){this._MangaStore=n,this._route=t,this.mangasCollection$=this._MangaStore.mangaCollection$,this.isMangaLoading$=this._MangaStore.isMangaCollectionLoading$,this.isMangaSelected=this._route.snapshot.paramMap.get("mangaId")}ngOnInit(){this._MangaStore.getMangas(["cover","description","title","state","genre","_id"]),new RegExp("^[0-9,$]*$").test(this?.isMangaSelected??"")&&this?.isMangaSelected&&this.onOpenMangaDetails(Number(this.isMangaSelected))}onOpenMangaDetails(n){this._MangaStore.selectMangaByIdAndOpenSheet({attributes:[],mangaId:n})}}g.\u0275fac=function(n){return new(n||g)(e.Y36(_.K),e.Y36(M.gz))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:5,vars:6,consts:[["class","mangaContainer",4,"ngIf"],[4,"ngIf"],[1,"mangaContainer"],[2,"height","100vh !important",3,"collection","title","openMangaDetails"],[3,"collection","title","openMangaDetails"],["mode","indeterminate",1,"progressBar"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.YNc(1,S,5,10,"span",0),e.ALo(2,"async"),e.YNc(3,T,2,0,"span",1),e.ALo(4,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,t.isMangaLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,t.isMangaLoading$)))},dependencies:[r.ez,r.O5,r.Ov,h.Cv,h.pW,p],styles:[".progressBar[_ngcontent-%COMP%]{position:absolute;top:50%}.mangaContainer[_ngcontent-%COMP%]{flex:1;overflow-y:auto;scroll-behavior:smooth;scroll-padding-top:50vh}"],changeDetection:0})}}]);