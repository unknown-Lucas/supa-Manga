"use strict";(self.webpackChunkmanga_hub=self.webpackChunkmanga_hub||[]).push([[272],{272:(b,u,i)=>{i.r(u),i.d(u,{HomeComponent:()=>g});var e=i(4650),C=i(4989),_=i(7799),r=i(6895),v=i(2340),s=i(3546),d=i(4859),x=i(2994);class c{constructor(){this.manga={},this.openMangaDetails=new e.vpe}get mangaUrl(){return`${v.N.myHost}/home/${this.manga._id}`}getMangaStateClass(n){return{ongoing:"ongoing-header-image",completed:"completed-header-image",cancelled:"cancelled-header-image",hiatus:"hiatus-header-image"}[n]}}c.\u0275fac=function(n){return new(n||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-manga-card"]],inputs:{manga:"manga"},outputs:{openMangaDetails:"openMangaDetails"},standalone:!0,features:[e.jDz],decls:14,vars:6,consts:[[1,"example-card"],["mat-card-avatar","",3,"ngClass"],[1,"card-title"],["rel","noreferrer","mat-card-image","","width","300","height","300","alt","","loading","lazy"],[1,"card-description"],[2,"margin-right","10px",3,"url"],["mat-raised-button","",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header"),e._UZ(2,"div",1),e.TgZ(3,"mat-card-title",2),e._uU(4),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.qZA()(),e._UZ(7,"img",3),e.TgZ(8,"mat-card-content",4),e._uU(9),e.qZA(),e.TgZ(10,"mat-card-actions"),e._UZ(11,"app-share-button",5),e.TgZ(12,"button",6),e.NdJ("click",function(){return t.openMangaDetails.emit(t.manga._id)}),e._uU(13," READ "),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("ngClass",t.getMangaStateClass(t.manga.state)),e.xp6(2),e.Oqu(t.manga.title),e.xp6(2),e.Oqu(t.manga.genre),e.xp6(1),e.uIk("src",t.manga.cover,e.LSH),e.xp6(2),e.hij(" ",t.manga.description," "),e.xp6(2),e.Q6J("url",t.mangaUrl))},dependencies:[r.ez,r.mk,s.QW,s.a8,s.hq,s.kc,s.dn,s.dk,s.G2,s.$j,s.n5,d.ot,d.lW,x.o],styles:[".example-card[_ngcontent-%COMP%]{max-width:300px;height:500px;border-radius:20px;-webkit-line-clamp:4;line-clamp:4;-webkit-box-orient:vertical}.card-description[_ngcontent-%COMP%]{padding:10px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;line-clamp:4;-webkit-box-orient:vertical;max-width:300px;max-height:300px}.card-title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;max-width:300px}"],changeDetection:0});var h=i(3162),f=i(7392);const M=["carouselWrapper"];class p{constructor(){this.title="",this.currentSlideIndex=0,this.elementsCount=0,this.autoSlide=!0,this.isWaiting=!1}ngAfterViewInit(){setInterval(()=>{this.autoSlide&&this.nextSlide()},4e3)}stopAutoCarousel(){this.autoSlide=!1,this.isWaiting||(this.isWaiting=!0,setTimeout(()=>{this.autoSlide=!0,this.isWaiting=!1},2e4))}prevSlideButton(){this.stopAutoCarousel(),this.prevSlide()}nextSlideButton(){this.stopAutoCarousel(),this.nextSlide()}prevSlide(){this.currentSlideIndex=(this.currentSlideIndex-2+this.elementsCount)%this.elementsCount,this.slideToCurrent()}nextSlide(){this.currentSlideIndex=(this.currentSlideIndex+2)%this.elementsCount,this.slideToCurrent()}slideToCurrent(){this.carouselWrapper.nativeElement.style.transform=`translateX(-${this.currentSlideIndex*(this.carouselWrapper.nativeElement.children[0].offsetWidth+20)}px)`}}function T(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"app-manga-card",6),e.NdJ("openMangaDetails",function(l){e.CHM(t);const m=e.oxw(2);return e.KtG(m.onOpenMangaDetails(l))}),e.qZA()}2&a&&e.Q6J("manga",n.$implicit)}function S(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"app-manga-card",6),e.NdJ("openMangaDetails",function(l){e.CHM(t);const m=e.oxw(2);return e.KtG(m.onOpenMangaDetails(l))}),e.qZA()}2&a&&e.Q6J("manga",n.$implicit)}function y(a,n){if(1&a&&(e.TgZ(0,"div",3)(1,"app-carousel",4),e.ALo(2,"async"),e.YNc(3,T,1,1,"app-manga-card",5),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"app-carousel",4),e.ALo(6,"async"),e.YNc(7,S,1,1,"app-manga-card",5),e.ALo(8,"async"),e.qZA()()),2&a){const t=e.oxw();let o,l;e.xp6(1),e.Q6J("title","Popular Seinens \u2694\ufe0f")("elementsCount",null!==(o=null==(o=e.lcZ(2,6,t.mangasCollection$))?null:o.length)&&void 0!==o?o:0),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,8,t.mangasCollection$)),e.xp6(2),e.Q6J("title","Popular shounens \u{1f94a}")("elementsCount",null!==(l=null==(l=e.lcZ(6,10,t.mangasCollection$))?null:l.length)&&void 0!==l?l:0),e.xp6(2),e.Q6J("ngForOf",e.lcZ(8,12,t.mangasCollection$))}}function A(a,n){1&a&&(e.TgZ(0,"span"),e._UZ(1,"mat-progress-bar",7),e.qZA())}p.\u0275fac=function(n){return new(n||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-carousel"]],viewQuery:function(n,t){if(1&n&&e.Gf(M,7),2&n){let o;e.iGM(o=e.CRH())&&(t.carouselWrapper=o.first)}},inputs:{title:"title",elementsCount:"elementsCount"},standalone:!0,features:[e.jDz],ngContentSelectors:["*"],decls:14,vars:1,consts:[[1,"carousel-page"],[1,"carousel-title"],[1,"carousel-nav"],["mat-fab","","color","primary",1,"carousel-nav-left",3,"click"],["mat-fab","","color","primary",1,"carousel-nav-right",3,"click"],[1,"carousel-container",3,"click"],[1,"carousel-wrapper"],["carouselWrapper",""]],template:function(n,t){1&n&&(e.F$t(),e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"button",3),e.NdJ("click",function(){return t.prevSlideButton()}),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_arrow_left"),e.qZA()(),e.TgZ(7,"button",4),e.NdJ("click",function(){return t.nextSlideButton()}),e.TgZ(8,"mat-icon"),e._uU(9,"keyboard_arrow_right"),e.qZA()()(),e.TgZ(10,"div",5),e.NdJ("click",function(){return t.stopAutoCarousel()}),e.TgZ(11,"div",6,7),e.Hsn(13,0,["class","carousel-elements"]),e.qZA()()()),2&n&&(e.xp6(2),e.Oqu(t.title))},dependencies:[r.ez,f.Ps,f.Hw,d.ot,d.cs],styles:[".carousel-page[_ngcontent-%COMP%]{display:flex;height:100%;padding-right:1vw;padding-left:1vw;flex-direction:column;justify-content:center}.carousel-container[_ngcontent-%COMP%]{display:flex;overflow-x:hidden;position:relative;padding:1vw}.carousel-wrapper[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out;position:relative;z-index:0}.carousel-title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:40px;font-weight:700}.carousel-nav[_ngcontent-%COMP%]{display:flow-root}.carousel-nav-left[_ngcontent-%COMP%]{float:left}.carousel-nav-right[_ngcontent-%COMP%]{float:right}"]});class g{constructor(n,t){this._MangaStore=n,this._route=t,this.mangasCollection$=this._MangaStore.mangaCollection$,this.isMangaLoading$=this._MangaStore.isMangaCollectionLoading$,this.isMangaSelected=this._route.snapshot.paramMap.get("mangaId")}ngOnInit(){this._MangaStore.getMangas(["cover","description","title","state","genre","_id"]),new RegExp("^[0-9,$]*$").test(this?.isMangaSelected??"")&&this?.isMangaSelected&&this.onOpenMangaDetails(Number(this.isMangaSelected))}onOpenMangaDetails(n){this._MangaStore.selectMangaByIdAndOpenSheet({attributes:[],mangaId:n})}}g.\u0275fac=function(n){return new(n||g)(e.Y36(C.K),e.Y36(_.gz))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:5,vars:6,consts:[[2,"height","100%"],["class","mangaContainer",4,"ngIf"],[4,"ngIf"],[1,"mangaContainer"],[3,"title","elementsCount"],["class","carousel-card",3,"manga","openMangaDetails",4,"ngFor","ngForOf"],[1,"carousel-card",3,"manga","openMangaDetails"],["mode","indeterminate",1,"progressBar"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,y,9,14,"div",1),e.ALo(2,"async"),e.YNc(3,A,2,0,"span",2),e.ALo(4,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,t.isMangaLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,t.isMangaLoading$)))},dependencies:[r.ez,r.sg,r.O5,r.Ov,c,h.Cv,h.pW,p],styles:[".progressBar[_ngcontent-%COMP%]{position:absolute;top:50%}.mangaContainer[_ngcontent-%COMP%]{z-index:1;height:100%;scroll-behavior:smooth;scroll-padding-top:50vh}.carousel-card[_ngcontent-%COMP%]{margin:0 10px}"],changeDetection:0})}}]);