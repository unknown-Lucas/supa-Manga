"use strict";(self.webpackChunkmanga_hub=self.webpackChunkmanga_hub||[]).push([[272],{272:(y,m,i)=>{i.r(m),i.d(m,{HomeComponent:()=>p});var e=i(4650),h=i(4989),C=i(7799),r=i(6895),f=i(2340),s=i(3546),g=i(4859),v=i(2994);class l{constructor(){this.manga={},this.openMangaDetails=new e.vpe}get mangaUrl(){return`${f.N.myHost}/home/${this.manga._id}`}getMangaStateClass(t){return{ongoing:"ongoing-header-image",completed:"completed-header-image",cancelled:"cancelled-header-image",hiatus:"hiatus-header-image"}[t]}}l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-manga-card"]],inputs:{manga:"manga"},outputs:{openMangaDetails:"openMangaDetails"},standalone:!0,features:[e.jDz],decls:14,vars:6,consts:[[1,"example-card"],["mat-card-avatar","",3,"ngClass"],[1,"card-title"],["rel","noreferrer","mat-card-image","","width","300","height","300","alt","","loading","lazy"],[1,"card-description"],[2,"margin-right","10px",3,"url"],["mat-raised-button","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header"),e._UZ(2,"div",1),e.TgZ(3,"mat-card-title",2),e._uU(4),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.qZA()(),e._UZ(7,"img",3),e.TgZ(8,"mat-card-content",4),e._uU(9),e.qZA(),e.TgZ(10,"mat-card-actions"),e._UZ(11,"app-share-button",5),e.TgZ(12,"button",6),e.NdJ("click",function(){return n.openMangaDetails.emit(n.manga._id)}),e._uU(13," READ "),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngClass",n.getMangaStateClass(n.manga.state)),e.xp6(2),e.Oqu(n.manga.title),e.xp6(2),e.Oqu(n.manga.genre),e.xp6(1),e.uIk("src",n.manga.cover,e.LSH),e.xp6(2),e.hij(" ",n.manga.description," "),e.xp6(2),e.Q6J("url",n.mangaUrl))},dependencies:[r.ez,r.mk,s.QW,s.a8,s.hq,s.kc,s.dn,s.dk,s.G2,s.$j,s.n5,g.ot,g.lW,v.o],styles:[".example-card[_ngcontent-%COMP%]{max-width:300px;height:500px;border-radius:20px;-webkit-line-clamp:4;line-clamp:4;-webkit-box-orient:vertical}.card-description[_ngcontent-%COMP%]{padding:10px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;line-clamp:4;-webkit-box-orient:vertical;max-width:300px;max-height:300px}.card-title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;max-width:300px}"],changeDetection:0});var d=i(3162),u=i(7392);const _=["carouselWrapper"];class c{constructor(){this.title="",this.currentSlideIndex=0,this.elementsCount=0,this.autoSlide=!0,this.isWaiting=!1}ngAfterViewInit(){setInterval(()=>{this.autoSlide&&this.nextSlide()},4e3)}stopAutoCarousel(){this.autoSlide=!1,this.isWaiting||(this.isWaiting=!0,setTimeout(()=>{this.autoSlide=!0,this.isWaiting=!1},2e4))}prevSlideButton(){this.stopAutoCarousel(),this.prevSlide()}nextSlideButton(){this.stopAutoCarousel(),this.nextSlide()}prevSlide(){this.currentSlideIndex=(this.currentSlideIndex-2+this.elementsCount)%this.elementsCount,this.slideToCurrent()}nextSlide(){this.currentSlideIndex=(this.currentSlideIndex+2)%this.elementsCount,this.slideToCurrent()}slideToCurrent(){this.carouselWrapper.nativeElement.style.transform=`translateX(-${this.currentSlideIndex*(this.carouselWrapper.nativeElement.children[0].offsetWidth+20)}px)`}}function x(a,t){if(1&a){const n=e.EpF();e.TgZ(0,"app-manga-card",5),e.NdJ("openMangaDetails",function(T){e.CHM(n);const b=e.oxw(2);return e.KtG(b.onOpenMangaDetails(T))}),e.qZA()}2&a&&e.Q6J("manga",t.$implicit)}function Z(a,t){if(1&a&&(e.TgZ(0,"span",2)(1,"app-carousel",3),e.ALo(2,"async"),e.YNc(3,x,1,1,"app-manga-card",4),e.ALo(4,"async"),e.qZA()()),2&a){const n=e.oxw();let o;e.xp6(1),e.Q6J("title","Popular Seinens \u2694\ufe0f")("elementsCount",null!==(o=null==(o=e.lcZ(2,3,n.mangasCollection$))?null:o.length)&&void 0!==o?o:0),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,5,n.mangasCollection$))}}function S(a,t){1&a&&(e.TgZ(0,"span"),e._UZ(1,"mat-progress-bar",6),e.qZA())}c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-carousel"]],viewQuery:function(t,n){if(1&t&&e.Gf(_,7),2&t){let o;e.iGM(o=e.CRH())&&(n.carouselWrapper=o.first)}},inputs:{title:"title",elementsCount:"elementsCount"},standalone:!0,features:[e.jDz],ngContentSelectors:["*"],decls:13,vars:1,consts:[[1,"carousel-page"],[1,"carousel-title"],["mat-fab","","color","primary",1,"carousel-nav-left",3,"click"],[1,"carousel-container",3,"click"],[1,"carousel-wrapper"],["carouselWrapper",""],["mat-fab","","color","primary",1,"carousel-nav-right",3,"click"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.prevSlideButton()}),e.TgZ(4,"mat-icon"),e._uU(5,"keyboard_arrow_left"),e.qZA()(),e.TgZ(6,"div",3),e.NdJ("click",function(){return n.stopAutoCarousel()}),e.TgZ(7,"div",4,5),e.Hsn(9,0,["class","carousel-elements"]),e.qZA()(),e.TgZ(10,"button",6),e.NdJ("click",function(){return n.nextSlideButton()}),e.TgZ(11,"mat-icon"),e._uU(12,"keyboard_arrow_right"),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(n.title))},dependencies:[r.ez,u.Ps,u.Hw,g.ot,g.cs],styles:[".carousel-page[_ngcontent-%COMP%]{padding:2vh}.carousel-container[_ngcontent-%COMP%]{display:flex;overflow-x:hidden;position:relative;padding:1vw}.carousel-wrapper[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out;position:relative;z-index:0}.carousel-title[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:40px;font-weight:700}.carousel-nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:1;background-color:#00000080}.carousel-nav.left[_ngcontent-%COMP%]{left:0}.carousel-nav.right[_ngcontent-%COMP%]{right:0}"]});class p{constructor(t,n){this._MangaStore=t,this._route=n,this.mangasCollection$=this._MangaStore.mangaCollection$,this.isMangaLoading$=this._MangaStore.isMangaCollectionLoading$,this.isMangaSelected=this._route.snapshot.paramMap.get("mangaId")}ngOnInit(){this._MangaStore.getMangas(["cover","description","title","state","genre","_id"]),new RegExp("^[0-9,$]*$").test(this?.isMangaSelected??"")&&this?.isMangaSelected&&this.onOpenMangaDetails(Number(this.isMangaSelected))}onOpenMangaDetails(t){this._MangaStore.selectMangaByIdAndOpenSheet({attributes:[],mangaId:t})}}p.\u0275fac=function(t){return new(t||p)(e.Y36(h.K),e.Y36(C.gz))},p.\u0275cmp=e.Xpm({type:p,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:5,vars:6,consts:[["class","mangaContainer",4,"ngIf"],[4,"ngIf"],[1,"mangaContainer"],[3,"title","elementsCount"],["class","carousel-card",3,"manga","openMangaDetails",4,"ngFor","ngForOf"],[1,"carousel-card",3,"manga","openMangaDetails"],["mode","indeterminate",1,"progressBar"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.YNc(1,Z,5,7,"span",0),e.ALo(2,"async"),e.YNc(3,S,2,0,"span",1),e.ALo(4,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,n.isMangaLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,n.isMangaLoading$)))},dependencies:[r.ez,r.sg,r.O5,r.Ov,l,d.Cv,d.pW,c],styles:[".progressBar[_ngcontent-%COMP%]{position:absolute;top:50%}.mangaContainer[_ngcontent-%COMP%]{flex:1;overflow-y:auto;scroll-behavior:smooth;scroll-padding-top:50vh}.carousel-card[_ngcontent-%COMP%]{margin:0 10px}"],changeDetection:0})}}]);